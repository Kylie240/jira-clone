<div class="flex flex-column h-full w-full">
    <div class="flex flex-column w-full gap-1 justify-content-center pt-2" [ngStyle]="{'height' : fullscreenEnabled() ? '' : '104px'}">
        <div class="flex justify-content-between px-3">
            <div class="flex flex-column">
                @if(!fullscreenEnabled()) {
                    <p class="m-0 text-xs text-gray-600 text-lg">Projects</p>
                }
                <div class="flex align-items-center gap-2">
                    <div class="bg-red-400 border-round-sm" style="width: 20px; height: 20px;"></div>
                    <h2 class="m-0 text-gray-800">{{project().name}}</h2>
                    <div class="hover:bg-gray-200 cursor-pointer px-2 py-1 border-round-sm">
                        <i class="fa-solid fa-ellipsis"></i>
                    </div>
                </div>
            </div>
            <div class="flex gap-2 text-gray-600">
                <div [pTooltip]="fullscreenEnabled() ? 'Exit ' : 'Enter ' + 'full screen'" (click)="toggleFullScreen()" tooltipPosition="bottom" style="height: 32px; width: 32px;" class="flex align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                    <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
                </div>
                @if(!fullscreenEnabled()) {
                    <div pTooltip="Share" tooltipPosition="bottom" style="height: 32px; width: 32px;" class="flex align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                        <i class="fa-solid fa-up-right-from-square"></i>
                    </div>
                }
            </div>
        </div>
        @if(!fullscreenEnabled()) {
            <div style="border-bottom: 1px solid lightgray">
                <div class="flex align-items-center mt-2 gap-4 text-gray-600 px-4">
                    <div class="flex align-items-center cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-globe fa-md"></i>
                        </div>
                        <p class="text-md m-0">Summary</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-bars-staggered fa-md"></i>
                        </div>
                        <p class="text-md m-0">Timeline</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-table-columns fa-md"></i>
                        </div>
                        <p class="text-md m-0">Board</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-regular fa-calendar fa-md"></i>
                        </div>
                        <p class="text-md m-0">Calendar</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-table-list fa-md"></i>
                        </div>
                        <p class="text-md m-0">List</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-list fa-md"></i>
                        </div>
                        <p class="text-md m-0">Forms</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-bullseye fa-md"></i>
                        </div>
                        <p class="text-md m-0">Goals</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-check-to-slot fa-md"></i>
                        </div>
                        <p class="text-md m-0">All work</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-code fa-md"></i>
                        </div>
                        <p class="text-md m-0">Code</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-box-archive fa-md"></i>
                        </div>
                        <p class="text-md m-0">Archived</p>
                    </div>
                    
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-regular fa-file fa-md"></i>
                        </div>
                        <p class="text-md m-0">Pags</p>
                    </div>
                    <div class="flex align-items-center gap-1 cursor-pointer">
                        <div style="width: 20px;">
                            <i class="fa-solid fa-link fa-md"></i>
                        </div>
                        <p class="text-md m-0">Shortcuts</p>
                    </div>
                    <div class="hover:bg-gray-200 cursor-pointer px-2 py-1 border-round-sm">
                        <i class="fa-solid fa-plus"></i>
                    </div>
                </div>
            </div>
        }
    </div>
    <div class="flex flex-column w-full h-full p-3">
        <div class="flex justify-content-between">
            <div class="flex align-items-center gap-2">
                <div class="flex align-items-center" style="width: 184px;">
                    <input type="text" pInputText [(ngModel)]="value" class="w-full" style="width: 184px;" placeholder="Search board"/>
                </div>
                <div class="flex">
                    @for(user of userList(); track $index) {
                        <app-avatar [user]="user" [displayName]="true" />
                    }
                </div>
            </div>
            <div class="flex gap-2">
                <div style="height: 32px" class="flex px-2 align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center gap-1 p-1 border-1 border-gray-400 border-round-sm">
                    <p class="m-0 text-sm">Group</p>
                    <i class="fa-solid fa-chevron-down fa-sm"></i>
                </div>
                <div style="height: 32px; width: 32px;" pTooltip="Board insights" tooltipPosition="bottom" class="flex align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                    <i class="fa-solid fa-chart-line fa-sm"></i>
                </div>
                <div style="height: 32px; width: 32px;" pTooltip="View settings" tooltipPosition="bottom" class="flex align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                    <i class="fa-solid fa-sliders fa-sm"></i>
                </div>
                <div style="height: 32px; width: 32px;" pTooltip="More actions" tooltipPosition="bottom" class="flex align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                    <i class="fa-solid fa-ellipsis fa-sm"></i>
                </div>
            </div>
        </div>
        <div class="flex h-full pt-3">
            <div class="flex gap-2 h-full">
                @for (column of project().columns; track column.title; let idx = $index) {
                    <app-column [column]="column" [idx]="idx" [projectId]="project().projectId" />
                }
            <div>
                @if(!creatingColumn()) {
                    <div class="flex ml-2 cursor-pointer hover:bg-gray-200 h-2rem w-2rem justify-content-center align-items-center p-1 border-1 border-gray-400 border-round-sm" pTooltip="Create column" (click)="toggleColumnCreation()" tooltipPosition="left">
                        <i class="fa-solid fa-plus fa-sm"></i>
                    </div>
                } @else {
                    <div class="flex flex-column align-content-end gap-1" (blur)="toggleColumnCreation(false)">
                        <div class="flex align-items-center" style="width: 184px;">
                            <input type="text" pInputText [(ngModel)]="newColumnTitle" (keydown.enter)="addNewColumn()" class="w-full" style="width: 184px;" placeholder="Search board"/>
                        </div>
                        <div class="flex gap-1 justify-content-end">
                            <div style="height: 32px; width: 32px;" (click)="addNewColumn()" class="flex shadow-1 align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                                <i class="fa-solid fa-check fa-sm"></i>
                            </div>
                            <div style="height: 32px; width: 32px;" (click)="toggleColumnCreation(false)" class="flex shadow-1 align-items-center justify-content-center cursor-pointer hover:bg-gray-200 align-items-center p-1 border-1 border-gray-400 border-round-sm">
                                <i class="fa-solid fa-x fa-sm"></i>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
